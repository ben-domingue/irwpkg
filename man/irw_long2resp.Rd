% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/long2resp.R
\name{irw_long2resp}
\alias{irw_long2resp}
\title{Convert IRW Long-Format Data to Wide-Format Response Matrix}
\usage{
irw_long2resp(df, wave = NULL, id_density_threshold = 0.1, agg_method = "mean")
}
\arguments{
\item{df}{A data frame containing IRW-compliant item response data in long format.}

\item{wave}{(Optional) A numeric value specifying which wave to filter.
If the dataset does not have a "wave" column, this input is ignored.
Defaults to the most frequent wave if \code{NULL}.}

\item{id_density_threshold}{A numeric value between \code{0.0} and \code{1.0} specifying the
minimum response density required for an \code{id} to be included.
Default is \code{0.1}. Set to \code{NULL} to disable filtering.}

\item{agg_method}{A string specifying how to handle multiple \code{id}-\code{item} pairs.
Options: \code{"mean"} (default), \code{"mode"}, \code{"median"}, \code{"first"}.}
}
\value{
A data frame in wide format where rows represent \code{id} values and columns represent \verb{item_*} responses.
}
\description{
Converts an IRW-compliant dataset from long format to wide format while handling
optional metadata elements, filtering by wave, and ensuring consistency.
}
\details{
This function applies a default sparsity filter with a threshold of \code{0.1} for \code{id} density
to avoid excessive sparsity in the response matrix.
Users can disable filtering by setting \code{id_density_threshold = NULL}.

Additionally, the function detects and resolves duplicate id-item responses.
By default, it keeps the \strong{most common response (mode)}, but users can specify
an alternative method (\code{mean}, \code{median}, or \code{first} response).
}
